---
title: "Dataset diagnostics with doctr"
author: "Caio Lente"
date: "2017-03-06"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo = FALSE, message = FALSE}
library(tidyverse)
library(doctr)
data(mpg)
```

## About

`doctr` is an R package that helps you check the consistency and the
quality of data.

The goal of the package is, in other words, automating as much as
possible the task of verifying if everything is ok with a dataset.
Like a real doctor, it has functions for examining, diagnosing and
assessing its "patients'" progress over time.

Since `doctr` was created with the [Tidy Tools Manifesto](https://cran.r-project.org/web/packages/tidyverse/vignettes/manifesto.html) in mind,
it works perfectly alongiside the [tidyverse](https://github.com/tidyverse).

## Creating dataset diagnostics with doctr

One of `doctr`'s main fuctions is `diagnose()`, which runs tests
(nicknamed "exams") on a table to check if its variables pass certain
standards and fit certain assumptions.

After running `diagnose()`, we can use the `issues()` function
to get a report about the results of the exams.

Let's see how this works with an example dataset: `ggplot2::mpg`.

```{r}
# Runninng exams on table
diagnostics <- diagnose(mpg)
```

Now the `diagnostics` object contains all the errors found while diagnosing
the `mpg` dataset. By using `issues()` we can get human-readable reports on these
errors.

```{r}
# Getting summary of diagnostics
issues(diagnostics, verbose = TRUE)
```

Since `mpg` is already very well-formed, no issues were found. I'm going
to artificially 